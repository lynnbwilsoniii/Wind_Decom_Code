#$Id: makefile_win.mak,v 1.6 2000/09/13 17:28:15 scottm Exp $
#
#  Copyright (c) 1988-2000, Research Systems Inc.  All rights reserved.
#  This software includes information which is proprietary to and a
#  trade secret of Research Systems, Inc.  It is not to be disclosed
#  to anyone outside of this organization. Reproduction by any means
#  whatsoever is  prohibited without express written permission.
#
#  makefile for CALL_EXTERNAL examples, Windows 95/NT with Visual C++ 6.0
#  To build these examples you should:
#  1) Make sure that the PATH,INCLUDE and LIB environment
#     variables are set correctly for Visual C++.
#     You can do this by running the batch file VCVARS32.BAT
#     which is found in the VC\BIN\ subdirectory of your
#     Visual C++ installation.
#  2) Make sure the macro IDL_DIR (defined below) points
#     to your IDL installation directory.
#  3) Make sure the macro LD_LIBS (defined below) points
#     to correct directory for your architecture.
#  4) Run NMAKE with this file by doing:
#     NMAKE/F makefile_win.mak
#     at the DOS prompt.
#
!include <win32.mak>
IDL_DIR = C:\RSI\IDL54

SO_EXT=dll
CC=cl
LD=link
CFLAGS= $(cflags) $(cvarsdll) /I$(IDL_DIR)\external
LD_LIBS= $(IDL_DIR)\bin\bin.x86\idl32.lib $(guilibsdll)
LD_FLAGS= /nologo $(dlllflags)

all:    call_examples.$(SO_EXT)

libs = simple_vars.obj string_array.obj \
          incr_struct.obj sum_2d_array.obj


.c.obj:
        $(CC) $(cdebug) $(CFLAGS) $<

call_examples.$(SO_EXT): $(libs)
        $(LD)  $(ldebug) $(LD_FLAGS) $(libs) /def:call_examples.def /out:call_examples.$(SO_EXT) $(LD_LIBS)

tidy:
	@del *.obj
        @del *.lib
        @del *.exp	

clean:  tidy
        @del *.$(SO_EXT)
