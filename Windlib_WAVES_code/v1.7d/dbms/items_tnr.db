! items_tnr.db - WIND/WAVES Item Database: item definitions for TNR events
!
ITEM=DB_VERSION
	DATA_TYPE=CHARACTER
	TEXT=TNR  2.2
	DESC=This is the current item database version number
	AUTHOR_DATE=19941207
!
! TNR
!
!	CONVENTIONS:
!  The following discussion applies to NORMAL and FAST data.  
!  DIAGNOSTIC items are listed at the end of the database and are not
!  grouped into families.
!
!  This set of TNR items was created in December 1994 to rationalize
!  the sprawling collection of TNR data created through the history of the
!  project.  The original collection of items is preserved and can be 
!  accessed by using the event name 'TNRO'.  
!
!   The NN items are valid only in FAST.
!
!   Families
!      1                            2                       short
!   SPECTRA_1			SPECTRA_2		SPECTRA_SHORT
!   AGC_1			AGC_2			AGC_SHORT
!   ANTENNA_1			ANTENNA_2		ANTENNA_SHORT
!   NN_QUALITY_1		NN_QUALITY_2		NN_QUALITY_SHORT
!   NN_CHANNEL_1		NN_CHANNEL_2		NN_CHANNEL_SHORT
!   NUMBER_OF_SPECTRA_1 	NUMBER_OF_SPECTRA_2	NUMBER_OF_SPECTRA_SHORT
!   SPECTRA_1_SCET_R8		SPECTRA_2_SCET_R8	SPECTRA_SHORT_SCET_R8
!   CHANS_PER_BAND_1		CHANS_PER_BAND_2	CHANS_PER_BAND_SHORT
!
!  The 1 family will work in all modes, giving all the data in modes 0-3,
!  and the TNR_A spectra of the paired TNR_A and TNR_B spectra in mode 4.
!  In FAST, family 1 will return the longer honesty spectrum that is 
!  included with each event of short spectra, and the ancillary information
!  that goes with the honest spectrum - which is the complete
!  spectrum from which the last SHORT spectrum was drawn.  For mode 4 in FAST
!  family 1 returns the information for the TNR_A honesty spectrum.
!
!  The 2 family returns values only when mode 4 is in use.  In this case
!  it returns the TNR_B values.  In FAST, mode 4, the 2 family returns
!  the TNR_B honesty spectrum (although there are NEVER any short spectra
!  from TNR_B in the main body of the event)
!
!  The SHORT family returns the short spectra for all modes in FAST.
!  Note that the SHORT spectra are always from TNR_A.  
!
!  This family structure is designed so that family 1 ALWAYS returns data
!  although if FAST is turned on, it only returns the single honesty
!  spectrum from the FAST events.
!
!  The following table assists in showing the relationship between TM mode
!  TNR mode, and subtype (the number within the table
!
!        \ TNR mode | 0       1   |    2        3    |         4
!         \________________________________________________________
!  TM Mode \  CHANS |    16       |        32        |        16   
!  _________\______________________________________________________    
!  TM mode          |             |                  |
!  Diagnostic       |     3       |        1         |         2
!  Normal           |     7       |        5         |         6
!  FAST             |    11       |        9         |        10
!



!HEADER AND PACKET CONSTRUCTION INFORMATION
ITEM=PACKET_ID       
	FIXED_VALUE=1:3      
	DESC=Fixed value of TNR ID for the primary header
	AUTHOR_DATE=19910825
ITEM=INSTR_HEADER    
	VALIDATION=PACKET_SUBTYPE,MO,b1111111111111110
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	FIXED_VALUE=1:24     
	DESC=Total length of instrument header
	AUTHOR_DATE=19910601
ITEM=MEASURE_HEADER  
	VALIDATION=DPU_VERSION,GE,6
	FIXED_VALUE=1:16     
	DESC=Total length of measurement header (3rd header)
	AUTHOR_DATE=19931118
ITEM=PACKET_HEADER   
	VALIDATION=PACKET_SUBTYPE,MO,b1111111111111110
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	FIXED_VALUE=1:8      
	DESC=Number of bits in the packet header
	AUTHOR_DATE=19920511


ITEM=DPU_MINOR_FRAME 
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,-1,1,0,AREA:3
	DESC=DPU minor frame count at measurement start
	AUTHOR_DATE=19931118
ITEM=DPU_MAJOR_FRAME 
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,8,-1,1,0,AREA:3
	DESC=DPU major frame counter (low order 8 bits only) at measurement start
	AUTHOR_DATE=19931118
ITEM=PACKET_COUNT    
	EXTRACT=0,8,-1,1,0,AREA:4
	DESC=Number of this packet within the event
	AUTHOR_DATE=19920511


!
!MODE AND STATUS INFORMATION
!
ITEM=FAST_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b00011111111
	FIXED_VALUE=1:0
	DESC=Indicates fast mode sampling - PACKET SUBTYPES <> 9,10,11
	XLATE=0,"OFF"
ITEM=FAST_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b11100000000
	FIXED_VALUE=1:1
	DESC=Indicates fast mode sampling - PACKET SUBTYPES 9,10,11
	XLATE=1,"ON"

ITEM=NORMAL_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b11100011111
	FIXED_VALUE=1:0
	DESC=Indicates normal mode sampling - PACKET SUBTYPES <> 5,6,7
	XLATE=0,"OFF"
ITEM=NORMAL_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b11100000
	FIXED_VALUE=1:1
	DESC=Indicates normal mode sampling - PACKET SUBTYPES 5,6,7
	XLATE=1,"ON"

ITEM=DIAGNOSTIC_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b111111110001
	FIXED_VALUE=1:0
	DESC=Indicates diagnostic mode sampling - PACKET SUBTYPES 1,2,3
	XLATE=0,"OFF"
ITEM=DIAGNOSTIC_MODE
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	FIXED_VALUE=1:1
	DESC=Indicates diagnostic mode sampling - PACKET SUBTYPES <> 1,2,3
	XLATE=1,"ON"

ITEM=CHANS_PER_BAND_SHORT
	VALIDATION=FAST_MODE,EQ,1
	FIXED_VALUE=1:4
	DESC=Number of channels per spectrum for short spectra
	AUTHOR_DATE=19941208
ITEM=CHANS_PER_BAND
	VALIDATION=EVENT_MODE,GE,0
	VALIDATION=EVENT_MODE,LE,1
	FIXED_VALUE=1:16
	DESC=Number of channels per spectrum for modes 0 & 1
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,EQ,4
	FIXED_VALUE=1:16     
	DESC=Number of channels per spectrum for mode 4
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND  
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,GE,2
	VALIDATION=EVENT_MODE,LE,3
	FIXED_VALUE=1:32     
	DESC=Number of channels per spectrum for modes 2 & 3
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND_1
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,GE,0
	VALIDATION=EVENT_MODE,LE,1
	FIXED_VALUE=1:16
	DESC=Number of channels per spectrum for modes 0 & 1
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND_1
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,EQ,4
	FIXED_VALUE=1:16     
	DESC=Number of channels per spectrum for mode 4
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND_1
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,GE,2
	VALIDATION=EVENT_MODE,LE,3
	FIXED_VALUE=1:32     
	DESC=Number of channels per spectrum for modes 2 & 3
	AUTHOR_DATE=19920511
ITEM=CHANS_PER_BAND_2
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=EVENT_MODE,EQ,4
	FIXED_VALUE=1:16     
	DESC=Number of channels per spectrum for mode 4
	AUTHOR_DATE=19920511

ITEM=ANTENNA
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	EXTRACT=6,2,-1,1,0,AREA:2 
	DESC=Antenna used for TNR_A/TNR_B measurements
	AUTHOR_DATE=19920511
	XLATE=0,"ExEy"
	XLATE=1,"ExEz"
	XLATE=2,"EyEz"
	XLATE=3,"EyEx"

ITEM=ANTENNA_A
	VALIDATION=ANTENNA,LE,1
	FIXED_VALUE=1:1
	DESC=Antenna used for TNR_A measurements
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
ITEM=ANTENNA_A
	VALIDATION=ANTENNA,GE,2
	FIXED_VALUE=1:2
	DESC=Antenna used for TNR_A measurements
	AUTHOR_DATE=19960423
	XLATE=2,"Ey"

ITEM=ANTENNA_B
	VALIDATION=ANTENNA,EQ,0
	FIXED_VALUE=1:2
	DESC=Antenna used for TNR_B measurements
	AUTHOR_DATE=19960423
	XLATE=2,"Ey"
ITEM=ANTENNA_B
	VALIDATION=ANTENNA,EQ,1
	FIXED_VALUE=1:3
	DESC=Antenna used for TNR_B measurements
	AUTHOR_DATE=19960423
	XLATE=3,"Ez"
ITEM=ANTENNA_B
	VALIDATION=ANTENNA,EQ,2
	FIXED_VALUE=1:3
	DESC=Antenna used for TNR_B measurements
	AUTHOR_DATE=19960423
	XLATE=3,"Ez"
ITEM=ANTENNA_B
	VALIDATION=ANTENNA,EQ,3
	FIXED_VALUE=1:1
	DESC=Antenna used for TNR_B measurements
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"

ITEM=ANTENNA_1
	VALIDATION=EVENT_MODE,EQ,0
	FIXED_VALUE=1:ANTENNA_A
	DESC=Antenna used for the SPECTRA_1 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"
ITEM=ANTENNA_1
	VALIDATION=EVENT_MODE,EQ,1
	FIXED_VALUE=1:ANTENNA_B
	DESC=Antenna used for the SPECTRA_1 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"
ITEM=ANTENNA_1
	VALIDATION=EVENT_MODE,EQ,2
	FIXED_VALUE=1:ANTENNA_A
	DESC=Antenna used for the SPECTRA_1 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"
ITEM=ANTENNA_1
	VALIDATION=EVENT_MODE,EQ,3
	FIXED_VALUE=1:ANTENNA_B
	DESC=Antenna used for the SPECTRA_1 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"
ITEM=ANTENNA_1
	VALIDATION=EVENT_MODE,EQ,4
	FIXED_VALUE=1:ANTENNA_A
	DESC=Antenna used for the SPECTRA_1 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"

ITEM=ANTENNA_2
	VALIDATION=EVENT_MODE,NE,4
	FIXED_VALUE=1:0
	DESC=Antenna used for the SPECTRA_2 family
	AUTHOR_DATE=19960423
	XLATE=0,"None"
ITEM=ANTENNA_2
	VALIDATION=EVENT_MODE,EQ,4
	FIXED_VALUE=1:ANTENNA_B
	DESC=Antenna used for the SPECTRA_2 family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"

ITEM=ANTENNA_SHORT
	VALIDATION=FAST_MODE,NE,1
	FIXED_VALUE=1:0
	DESC=Antenna used for the SPECTRA_SHORT family
	AUTHOR_DATE=19960423
	XLATE=0,"None"
ITEM=ANTENNA_SHORT
	VALIDATION=FAST_MODE,EQ,1
	FIXED_VALUE=1:ANTENNA_1
	DESC=Antenna used for the SPECTRA_SHORT family
	AUTHOR_DATE=19960423
	XLATE=1,"Ex"
	XLATE=2,"Ey"
	XLATE=3,"Ez"

ITEM=EVENT_BAND                    
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	EXTRACT=8,3,-1,1,0,AREA:2
	DESC=Current choice of band
	AUTHOR_DATE=19920511
	XLATE=0,"A"
	XLATE=1,"B"
	XLATE=2,"C"
	XLATE=3,"D"
	XLATE=4,"E"

ITEM=EVENT_MODE      
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=11,3,-1,1,0,AREA:2
	DESC=TNR mode for whole event
	AUTHOR_DATE=19930720
	XLATE=0,"MODE 0, TNR-A ONLY, F=16"
        XLATE=1,"MODE 1, TNR-B ONLY, F=16"
	XLATE=2,"MODE 2, TNR-A ONLY, F=32"
	XLATE=3,"MODE 3, TNR-B ONLY, F=32"
	XLATE=4,"MODE 4, TNR_A/TNR_B, F=16"

ITEM=EVENT_STATE     
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	EXTRACT=0,2,-1,1,0,AREA:2
	DESC=DPU state controlling TNR - fixed tune, ABCDE, ACE
	AUTHOR_DATE=19920511
	XLATE=0,"Error"
	XLATE=1,"FIXED TUNE"
	XLATE=2,"ABCDE"
	XLATE=3,"ACE"
ITEM=NN_TUNING          
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	EXTRACT=2,1,-1,1,0,AREA:2
	DESC=Whether the neural network is controlling the channel
	AUTHOR_DATE=19931108
	XLATE=0,"OFF"
	XLATE=1,"ON"
ITEM=CAL_FLAG        
	EXTRACT=3,1,-1,1,0,AREA:2
	DESC=Calibration flag
	AUTHOR_DATE=19931116
	XLATE=0,"Calibration off"
	XLATE=1,"Calibration on"

ITEM=NUMBER_OF_SPECTRA_1
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=FAST_MODE,EQ,0
	EXTRACT=16,8,-1,1,0,AREA:2
	DESC=Actual number of spectra_1 in this event
	AUTHOR_DATE=19931118
ITEM=NUMBER_OF_SPECTRA_1
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=FAST_MODE,EQ,1
	FIXED_VALUE=1:1
	DESC=Actual number of 'HONESTY' spectra_1 in this event
	AUTHOR_DATE=19931118

ITEM=NUMBER_OF_SPECTRA_2
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=FAST_MODE,EQ,0
	VALIDATION=EVENT_MODE,EQ,4
	EXTRACT=16,8,-1,1,0,AREA:2
	DESC=Actual number of spectra_2 in this event
	AUTHOR_DATE=19931118
ITEM=NUMBER_OF_SPECTRA_2
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=FAST_MODE,EQ,1
	FIXED_VALUE=1:1
	DESC=Actual number of 'HONESTY' spectra_2 in this event
	AUTHOR_DATE=19931118
ITEM=NUMBER_OF_SPECTRA_2
	VALIDATION=EVENT_MODE,NE,4
	FIXED_VALUE=1:0
	DESC=Actual number of spectra_2 in this event
	AUTHOR_DATE=19960423

ITEM=NUMBER_OF_SPECTRA_SHORT
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=FAST_MODE,EQ,1
	EXTRACT=16,8,-1,1,0,AREA:2
	DESC=Actual number of spectra_short in this event
	AUTHOR_DATE=19931118
ITEM=NUMBER_OF_SPECTRA_SHORT
	VALIDATION=FAST_MODE,NE,1
	FIXED_VALUE=1:0
	DESC=Actual number of spectra_short in this event
	AUTHOR_DATE=19960423

ITEM=EVENT_INTEGRATE
	VALIDATION=EVENT_SCET,GT,DATE:19920511-190000
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=14,2,-1,1,0,AREA:2
	DESC=TNR Integration time (0>1.472 seconds, 1>.736, 2>.368, 3>.184)
	AUTHOR_DATE=19930720
	XLATE=0,"1.472 seconds"
        XLATE=1,".736 seconds"
	XLATE=2,".368 seconds"
	XLATE=3,".184 seconds"
ITEM=EVENT_INTEGRATE_R4
	DATA_TYPE=REAL*4
        LOOKUP=EVENT_INTEGRATE
                TABLE=0,1.472
                TABLE=1,.736
                TABLE=2,.368
                TABLE=3,.184
        DESC=TNR Integration time (seconds)
        AUTHOR_DATE=19941120
ITEM=EVENT_INTEGRATE_SECS_R4
	DATA_TYPE=REAL*4
	FIXED_VALUE=1:EVENT_INTEGRATE_R4
        DESC=TNR Integration time (seconds)
        AUTHOR_DATE=19960423

!
!  MEASUREMENT INFORMATION
!
ITEM=AGC_1           
	VALIDATION=PACKET_SUBTYPE,MO,b10000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,136,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Automatic gain control value, TM Normal, TNR mode 0,1
	AUTHOR_DATE=19931117
ITEM=AGC_1             
	VALIDATION=PACKET_SUBTYPE,MO,b100000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,264,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Automatic gain control value, TM Normal, TNR mode 2,3
	AUTHOR_DATE=19931117
ITEM=AGC_1
	VALIDATION=PACKET_SUBTYPE,MO,b1000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,272,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Automatic gain control value, TNR A, TM Normal, TNR mode 4
	AUTHOR_DATE=19931117

ITEM=AGC_2           
	VALIDATION=PACKET_SUBTYPE,MO,b1000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,8,272,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_2
	DESC=Automatic gain control value, TNR B, TM Normal, TNR mode 4
	AUTHOR_DATE=19931117

!FAST AGCs
ITEM=AGC_SHORT       
	VALIDATION=PACKET_SUBTYPE,MO,b111000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,48,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Automatic gain control value, TM Fast, all modes
	AUTHOR_DATE=19931117
ITEM=AGC_1
	VALIDATION=PACKET_SUBTYPE,MO,b111000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=-48,8,-1,1,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Automatic gain control value 'honesty', TM Fast, all modes
	AUTHOR_DATE=19931117
ITEM=AGC_2  
	VALIDATION=PACKET_SUBTYPE,MO,b10000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,-1,1,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_2
	DESC=Automatic gain control value,'HONESTY' TM Fast, TNR B mode 4
	AUTHOR_DATE=19931117

ITEM=SPECTRA_1      
	VALIDATION=PACKET_SUBTYPE,MO,b10000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,8,136,16,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Spectral values for TM Normal, TNR mode 0,1
	AUTHOR_DATE=19931117
ITEM=SPECTRA_1
	VALIDATION=PACKET_SUBTYPE,MO,b100000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,8,264,32,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Spectral values for TM Normal, TNR mode 2,3
	AUTHOR_DATE=19931117
ITEM=SPECTRA_1      
	VALIDATION=PACKET_SUBTYPE,MO,b1000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=16,8,272,16,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_1
	DESC=Spectral values for TNR A, TM Normal, TNR mode 4
	AUTHOR_DATE=19931117
ITEM=SPECTRA_2      
	VALIDATION=PACKET_SUBTYPE,MO,b1000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=144,8,272,16,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_2
	DESC=Spectral values for TNR B, TM Normal, TNR mode 4
	AUTHOR_DATE=19931117

! HONESTY SPECTRA

ITEM=SPECTRA_1
	VALIDATION=PACKET_SUBTYPE,MO,b100000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,-1,16,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Spectral values for TM Fast 'honesty' spectrum, TNR mode 0,1
	AUTHOR_DATE=19931117

ITEM=SPECTRA_1       
	VALIDATION=PACKET_SUBTYPE,MO,b1000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=0,8,-1,32,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Spectral values for TM Fast 'honesty spectrum', TNR mode 2,3
	AUTHOR_DATE=19931117

ITEM=SPECTRA_1
	VALIDATION=PACKET_SUBTYPE,MO,b10000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,8,-1,16,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Spectral values for TM Fast 'honesty' spectrum, TNR A mode 4
	AUTHOR_DATE=19931117
ITEM=SPECTRA_2
	VALIDATION=PACKET_SUBTYPE,MO,b10000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=136,8,-1,16,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Spectral values for TM Fast 'honesty' spectrum, TNR B mode 4
	AUTHOR_DATE=19931117


!SHORT SPECTRA
ITEM=SPECTRA_SHORT  
	VALIDATION=PACKET_SUBTYPE,MO,b11100000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=16,8,48,4,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=Spectral values for TM Fast, all modes
	AUTHOR_DATE=19931117

ITEM=NN_CHANNEL_SHORT
	VALIDATION=PACKET_SUBTYPE,MO,b111000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=8,5,48,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=TNR NN channel estimate, TM Fast, all modes
	AUTHOR_DATE=199311117
ITEM=NN_QUALITY_SHORT
	VALIDATION=PACKET_SUBTYPE,MO,b111000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=13,3,48,1,0,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=TNR NN quality estimate, TM Fast, all modes
	AUTHOR_DATE=19931117
ITEM=NN_CHANNEL_1      
	VALIDATION=PACKET_SUBTYPE,MO,b111000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=-40,5,-1,1,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=TNR NN channel estimate'honesty', TM Fast, all modes
	AUTHOR_DATE=199311117
ITEM=NN_QUALITY_1
	VALIDATION=PACKET_SUBTYPE,MO,b100000000000
	VALIDATION=DPU_VERSION,GE,6
	EXTRACT=-35,3,-1,1,48,AREA:5
	COUNT=NUMBER_OF_SPECTRA_SHORT
	DESC=TNR NN quality estimate 'honesty', TM Fast, TNR mode 0,1
	AUTHOR_DATE=19931117

!
! METADATA - FREQUENCIES, CHANNELS
! I MADE THESE DEPEND ON MODE AND NOT ON SUBTYPES

! Information items - independent of the current mode etc.

ITEM=CHANNEL_COVERAGE
	FILE='WIND_DBMS_AUX:tnr_channels.chan_num'
	DESC=List of all 96 channel numbers (0, 1, ... 95)
	AUTHOR_DATE=19941230

ITEM=FREQUENCY_COVERAGE_HZ_R4
 	DATA_TYPE=REAL*4 
	FILE='WIND_DBMS_AUX:tnr_channels.hz'
	DESC=List of all 96 frequencies in Hz (4,000, 4,177, ... 245,146)
	AUTHOR_DATE=19941230

!Information relevant to the current instrument state
ITEM=CHANNEL_NUMBERS     
	VALIDATION=EVENT_MODE,GE,2
	VALIDATION=EVENT_MODE,LE,3
	FILE='WIND_DBMS_AUX:tnr_32band_',EVENT_BAND,%01d,'.chan_num'     
	DESC=Channel numbers counted 0-96 for one spectrum
	AUTHOR_DATE=19920506
ITEM=CHANNEL_NUMBERS
	VALIDATION=EVENT_MODE,LE,1
	FILE='WIND_DBMS_AUX:tnr_16band_',EVENT_BAND,%01d,'.chan_num' 
	DESC=Channel numbers counted 0-96 for one spectrum
	AUTHOR_DATE=19920506
ITEM=CHANNEL_NUMBERS     
	VALIDATION=EVENT_MODE,EQ,4
	FILE='WIND_DBMS_AUX:tnr_16band_',EVENT_BAND,%01d,'.chan_num'  
	DESC=Channel numbers counted 0-96 for one spectrum
	AUTHOR_DATE=19920506

!  NEED THESE TWO!   TBD
!ITEM=FREQUENCIES_HZ_R4
!	VALIDATION=FAST_MODE,EQ,1
!	DESC=Frequencies for SHORT spectra
!	FUNCTION=X,NN_CHANNEL,EVENT_BAND
!ITEM=CHANNEL_NUMBERS
!	VALIDATION=FAST_MODE,EQ,1
!	DESC=Channel numbers for SHORT spectra
!	FUNCTION=X,NN_CHANNEL,EVENT_BAND

ITEM=FREQUENCIES_HZ_R4
 	DATA_TYPE=REAL*4 
	VALIDATION=EVENT_MODE,GE,2
	VALIDATION=EVENT_MODE,LE,3
	FILE='WIND_DBMS_AUX:tnr_32band_',EVENT_BAND,%01d,'.hz'     
	DESC=Contents of file of frequencies in HZ for 1 spectrum
	AUTHOR_DATE=19920506
ITEM=FREQUENCIES_HZ_R4
	DATA_TYPE=REAL*4
	VALIDATION=EVENT_MODE,LE,1
	FILE='WIND_DBMS_AUX:tnr_16band_',EVENT_BAND,%01d,'.hz'     
	DESC=Contents of file of frequencies in HZ for one spectrum
	AUTHOR_DATE=19920506
ITEM=FREQUENCIES_HZ_R4
	DATA_TYPE=REAL*4
	VALIDATION=EVENT_MODE,EQ,4
	FILE='WIND_DBMS_AUX:tnr_16band_',EVENT_BAND,%01d,'.hz' 
	DESC=Frequencies in HZ for one spectrum
	AUTHOR_DATE=19920506
ITEM=DENSITIES_FILE
	DATA_TYPE=CHARACTER
	TEXT=WIND_DBMS_AUX:tnr_densities_v01.cm3
	DESC=A file of electron densities for each TNR frequency
	AUTHOR_DATE=19950822

!
! Physical Units Items
!

ITEM=PHYSICAL_LOOKUP_TABLE
	DATA_TYPE=CHARACTER
	TEXT=WIND_DBMS_AUX:tnr_physical_v01.lookup_table
	DESC=Coefficients for TNR physical unit conversion
	AUTHOR_DATE=19950213

ITEM=SPECTRA_1_MICROVOLTS_R4
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in microVolts/root(Hz)
	AUTHOR_DATE=19950301

ITEM=SPECTRA_2_MICROVOLTS_R4      
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in microVolts/root(Hz)
	AUTHOR_DATE=19950301

ITEM=SPECTRA_SHORT_MICROVOLTS_R4      
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in microVolts/root(Hz)
	AUTHOR_DATE=19950301

ITEM=SPECTRA_1_DBVOLTS_R4
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in dB Volts
	AUTHOR_DATE=19960318

ITEM=SPECTRA_2_DBVOLTS_R4      
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in dB Volts
	AUTHOR_DATE=19960318

ITEM=SPECTRA_SHORT_DBVOLTS_R4      
	DATA_TYPE=REAL*4
	PHYSICAL
	DESC=Spectral values for TM Normal in dB Volts
	AUTHOR_DATE=19960318

!
!Neural Network items
!
ITEM=NN_INTEGER_WEIGHTS
	DATA_TYPE=CHARACTER
	TEXT=WIND_DBMS_AUX:tnr_integer_weights_v01.NN
	DESC=NN coefficients for integer recognition
	AUTHOR_DATE=19950822
ITEM=SIGMOID_LOOKUP_TABLE
	DATA_TYPE=CHARACTER
	TEXT=WIND_DBMS_AUX:tnr_sigmoid_v01.lookup_table
	DESC=NN integer activation function
	AUTHOR_DATE=19950822

!
!TIME ITEMS.
!

!NORMAL MODE TIME ITEMS
ITEM=SPECTRA_1_SCET_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,0
	FUNCTION=6,EVENT_SCET,EVENT_SCET_FRCTN,0,0,CHANS_PER_BAND,INT_TIME_R4,INT_TIME_R4
	DESC=SCET for spectra_1 item in ALL modes <4 (Ulysses R8)
	AUTHOR_DATE=19940926

ITEM=SPECTRA_2_SCET_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,0
	VALIDATION=EVENT_MODE,EQ,4
	FUNCTION=6,EVENT_SCET,EVENT_SCET_FRCTN,0,0,CHANS_PER_BAND,INT_TIME_R4,INT_TIME_R4
	DESC=TNR SCET'S for SPECTRUM B in mode 4 only (Ulysses R8)
	AUTHOR_DATE=19941108

!FAST MODE TIME ITEMS
ITEM=SPECTRA_1_SCET_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,1
	FUNCTION=6,EVENT_SCET,EVENT_SCET_FRCTN,OFFSET_1_HONEST_R8,0,CHANS_PER_BAND,0,NEGATIVE_INT_TIME_R4

	DESC=SCET for spectra_1 HONESTY item in FAST TM mode (Ulysses R8)
	AUTHOR_DATE=19940926

ITEM=SPECTRA_2_SCET_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,1
	VALIDATION=EVENT_MODE,EQ,4
	FUNCTION=6,EVENT_SCET,EVENT_SCET_FRCTN,OFFSET_1_HONEST_R8,0,16,0,NEGATIVE_INT_TIME_R4
	DESC=SCET for spectra_2 HONESTY item in FAST mode=4 (Ulysses R8)
	AUTHOR_DATE=19940926

ITEM=SPECTRA_SHORT_SCET_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,1
	FUNCTION=6,EVENT_SCET,EVENT_SCET_FRCTN,OFFSET_R8,0,4,INT_TIME_X2_R8,INT_TIME_R4
	DESC=SCET for spectra_1 item mode 4 only (Ulysses R8)
	AUTHOR_DATE=19940926

ITEM=NEGATIVE_INT_TIME_R4
	DATA_TYPE=REAL*4
	FIXED_VALUE=1:-1.*EVENT_INTEGRATE_R4
        DESC=NEGATIVE Integration time in seconds
        AUTHOR_DATE=19941120

ITEM=OFFSET_1_HONEST_R8
	DATA_TYPE=REAL*8
	VALIDATION=FAST_MODE,EQ,1
	VALIDATION=EVENT_MODE,LT,4
	POLY=7,NUMBER_OF_SPECTRA_1,INT_TIME_R4
        DESC=Elapsed time to beginning of LAST 'honesty' spectrum for modes 0-3

ITEM=INT_TIME_R4
	DATA_TYPE=REAL*4
	FIXED_VALUE=1:EVENT_INTEGRATE_R4
        DESC=Integration time in seconds
        AUTHOR_DATE=19941120

!
!        TEST PACKET ITEMS
!
!THESE TWO VALID FOR TEST PACKETSUBTYPES 1,2,3
!MADE THEM OUT OF A SINGLE AGC WITH A REPEAT COUNT OF 2 SO MUST BE FOR
!A TNRA/TNRB PAIRING.
ITEM=AGC_1             
	VALIDATION=PACKET_SUBTYPE,MO,b100
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=56,8,368,1,0,AREA:5
	DESC=Automatic gain control value
	AUTHOR_DATE=19930914

ITEM=AGC_2             
	VALIDATION=PACKET_SUBTYPE,MO,b100
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=64,8,368,1,0,AREA:5
	DESC=Automatic gain control value
	AUTHOR_DATE=19930914

ITEM=AGC_1
	VALIDATION=PACKET_SUBTYPE,MO,b1010
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=56,8,368,1,0,AREA:5
	DESC=Automatic gain control value
	AUTHOR_DATE=19930914

ITEM=MAJOR_BITS    
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=EVENT_SCET,GT,DATE:19920516-190000
	FIXED_VALUE=1:16     
	DESC=Number of bits in major frame counter
	AUTHOR_DATE=19920516

!TEST PACKET TYPES SPECTRUM ITEMS
!THESE ITEMS ARE IN USE ONLY WHEN THE INSTRUMENT IS IN DIAGNOSTIC
!MODE AND PACKET SUBTYPES <4 ARE BEING USED.

ITEM=SPECTRA_1
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=112,8,368,32,0,AREA:5
	DESC=32 spectral values - one spectrum in packet
	AUTHOR_DATE=19930914
ITEM=SPECTRA_1      
	VALIDATION=PACKET_SUBTYPE,MO,b1100
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=112,8,368,16,0,AREA:5
	DESC=First spectrum in 16-element pair
	AUTHOR_DATE=19931001

ITEM=SPECTRA_2      
	VALIDATION=PACKET_SUBTYPE,MO,b1100
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=240,8,368,16,0,AREA:5
	DESC=Second spectrum in 16-element pair
	AUTHOR_DATE=19931001

ITEM=BAND_THIS_SPEC  
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=24,3,368,1,0,AREA:5
	DESC=0=A, 1=B 2=C, 3=D, 4=E, 5=E, 0 is lowest
	AUTHOR_DATE=19930914
	XLATE=0,"A"
	XLATE=1,"B"
	XLATE=2,"C"
	XLATE=3,"D"
	XLATE=4,"E"

ITEM=BYTES_IN_DATA   
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=0,8,368,1,0,AREA:5
	DESC=Number of bytes including nn_result, agcs and spectrum
	AUTHOR_DATE=19930914

ITEM=MODE_THIS_SPEC  
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=27,3,368,1,0,AREA:5
	DESC=A mode flag for each spectrum in event
	AUTHOR_DATE=19930914

ITEM=INTEG_THIS_SPEC 
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=30,2,368,1,0,AREA:5
	DESC=TNR Integration time for each spectrum
	AUTHOR_DATE=19930914

ITEM=NN_RESULTS      
	VALIDATION=PACKET_SUBTYPE,MO,b1110
	VALIDATION=DPU_VERSION,GE,3
	EXTRACT=32,8,368,2,0,AREA:5
	DESC=Neural network results (2 for now)
	AUTHOR_DATE=19930914

ITEM=SPEC_MINOR_START
	VALIDATION=PACKET_SUBTYPE,MO,b100
	VALIDATION=DPU_VERSION,GE,2
	EXTRACT=8,8,328,1,0,AREA:5
	DESC=Minor frame of the current spectrum START
	AUTHOR_DATE=19930413
ITEM=SPEC_MINOR_START
	VALIDATION=PACKET_SUBTYPE,MO,b1010
	VALIDATION=DPU_VERSION,GE,2
	EXTRACT=8,8,320,1,0,AREA:5
	DESC=Minor frame of the current spectrum START
	AUTHOR_DATE=19930413

ITEM=SPEC_MINOR_STOP 
	VALIDATION=PACKET_SUBTYPE,MO,b100
	VALIDATION=DPU_VERSION,GE,2
	EXTRACT=16,8,328,1,0,AREA:5
	DESC=Minor frame of the current spectrum END
	AUTHOR_DATE=19930413
ITEM=SPEC_MINOR_STOP 
	VALIDATION=PACKET_SUBTYPE,MO,b1010
	VALIDATION=DPU_VERSION,GE,2
	EXTRACT=16,8,320,1,0,AREA:5
	DESC=Minor frame of the current spectrum END
	AUTHOR_DATE=19930413
